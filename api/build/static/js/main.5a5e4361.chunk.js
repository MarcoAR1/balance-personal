(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){},207:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),i=n.n(r),c=(n(207),n(1)),o=function(e){var t=e.children;return Object(c.jsxs)("header",{className:"bg_animate",children:[Object(c.jsx)("div",{className:"header_nav",children:Object(c.jsx)("div",{className:"contenedor"})}),t,Object(c.jsx)("section",{className:"banner contenedor"}),Object(c.jsxs)("div",{className:"burbujas",children:[Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"}),Object(c.jsx)("div",{className:"burbuja"})]})]})},s=n(11),l=n(246),u=Object(l.a)((function(){return{container:{display:"flex",flexDirection:"grid",width:"100%",height:"100%","@media (min-width:800px)":{flexDirection:"column",width:"80%",alignItems:"center",margin:"0 auto",maxWidth:"600px"}},primary:{order:"1","@media (min-width:800px)":{width:"20%",order:"2"}},secondary:{order:"0",width:"15%",display:"flex",flexDirection:"column",alignSelf:"center",justifyContent:"space-between",height:"70%","@media (min-width:800px)":{justifyContent:"space-between",height:"20%",flexDirection:"row",width:"65%",order:"1"}},tertiary:{display:"none",height:"10%","@media (min-width:800px)":{display:"block"}},button:{whiteSpace:"nowrap",transform:"rotate(90deg)",display:"flex",alignItems:"center","@media (min-width:800px)":{transform:"none"}},textNormal:{fontSize:"19px",color:"#FFFFFF",textAlign:"center"},textHover:{color:"#FFFFFF",fontSize:"25px",textAlign:"center",borderTop:"15px solid #2D25CB","@media (min-width:800px)":{border:"thick double  #2D25CB",borderBottom:"dotted",borderLeft:"none",borderRight:"none"}}}})),d=n(253),b=n(8),p=n.n(b),j=n(16),f=n(249),x=n(261),h=n(254),m=Object(l.a)((function(){return{containerFrom:{borderRadius:"40px",background:"#F2F2F2",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",width:"100%",height:"95%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},inputsFormLogin:{display:"flex",height:"40%",justifyContent:"space-evenly",flexDirection:"column"},notification:{display:"flex",alignItems:"center",justifyContent:"center"}}})),O=n(109),g=n.n(O),v=function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var a=new XMLHttpRequest;a.open("POST","/api/login/",!0),a.setRequestHeader("Content-Type","application/json"),a.onloadend=function(t){e(t.currentTarget)},a.onerror=n,a.send(JSON.stringify(t))}));case 2:if(202!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",JSON.parse(n.responseText));case 5:if(401!==n.status){e.next=7;break}return e.abrupt("return",JSON.parse(n.responseText));case 7:return e.abrupt("return",{message:"Something went wrong"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=n(6),w="@user/logIn",C="@user/logOut",S="@user/updateUser",D=function(e){return{type:w,peyload:e}},T=function(){return{type:C,peyload:{}}},N=function(e){return{type:S,peyload:e}},k=n(9),F=n(76),R=n(108),B="@balance/getBalance",E="@balance/getAllRecord",I="@balance/addRecord",A="@balance/subRecord",H="@balance/currentTarget",L="@balance/targetDelete",J="@balance/updateBalance",M="@balance/filterPaginations",P=function(e){return{type:B,payload:{Balance:e}}},G=function(e){return{type:E,payload:{Record:e}}},q=function(e,t){return{type:J,payload:{data:e,id:t}}},V="@animation/right",U="@animation/right2",W="@animation/left",_="@animation/exit",Y="@animation/left2",z="@animation/finish",X="@animation/addPointAnimation",$="@animation/disabledEntrance",K=function(e){var t={};return t[e]={rightOne:!0,rightTwo:!1},{type:V,payload:t}},Q=function(e){var t={};return t[e]={rightOne:!1,rightTwo:!0},{type:U,payload:t}},Z=function(e){var t={};return t[e]={leftOne:!0,leftTwo:!1},{type:W,payload:t}},ee=function(e){var t={};return t[e]={leftOne:!1,leftTwo:!0},{type:Y,payload:t}},te=function(e){var t={};return t[e]={},{type:z,payload:t}},ne=function(e){var t={};return t[e]={exit:!0,entrance:!1},{type:_,payload:t}},ae="@view/add",re="@view/sub",ie="@view/home",ce="@view/profile",oe="@view/editRecord",se="@view/withoutGraphic",le="@view/graphic",ue=function(){return{type:oe,payload:{graphicCard:"editRecord"}}},de="@filter/fillterTypeSub",be="@filter/fillterTypeAdd",pe="@filter/fillterTypeClean",je="@filter/filtterDateStart",fe="@filter/filtterDateStartClean",xe="@filter/filtterDateEnd",he="@filter/filtterDateEndClean",me="@filter/filtterDateClean",Oe="@fillter/fillterCategory",ge="@fillter/fillterCategoryClean",ve="@fillter/fillterCleanAll",ye=function(e){return{type:je,payload:{Start:e}}},we=function(e){return{type:xe,payload:{End:e}}},Ce=Object(F.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.peyload;return n===w||n===C?a:n===S?Object.assign(Object(y.a)({},e),a):e},balance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Record:[],filters:{paginationPosition:1}},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if(n===B)return Object.assign(Object(y.a)({},e),a);if(n===E)return Object.assign(Object(y.a)({},e),a);if(n===I){var r=a.Record,i=Object(y.a)({},e);return i.Record.splice(0,0,r),"add"===r.type?i.Balance+=parseInt(r.amount):i.Balance-=parseInt(r.amount),i}if(n===A){var c=a.id,o=Object(y.a)({},e),s=e.Record.filter((function(e){return e.balance_id!==c||("add"===e.type?o.Balance-=parseInt(e.amount):o.Balance+=parseInt(e.amount),!1)}));return o.Record=s,o}if(n===H)return Object.assign(Object(y.a)({},e),a);if(n===L)return Object.assign(Object(y.a)({},e),a);if(n===J){var l=a.data,u=a.id,d=Object(y.a)({},e),b=d.Record.find((function(e){return e.balance_id===u}));if(l.amount){var p=Math.abs(l.amount);if("add"===b.type){var j=p-parseInt(b.amount);d.Balance+=j}if("sub"===b.type){var f=p-parseInt(b.amount);d.Balance-=f}}return Object.assign(b,l),d}return n===M?Object.assign(Object(y.a)({},e),a):e},animation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Home:{},Graphic:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if(n===V)return Object.assign(Object(y.a)({},e),a);if(n===U)return Object.assign(Object(y.a)({},e),a);if(n===W)return Object.assign(Object(y.a)({},e),a);if(n===Y)return Object.assign(Object(y.a)({},e),a);if(n===z)return Object.assign(Object(y.a)({},e),a);if(n===_)return Object.assign(Object(y.a)({},e),a);if(n===$)return Object.assign(Object(y.a)({},e),a);if(n===X){var r={};return a.forEach((function(e){r[e.balance_id]={}})),Object.assign(Object(y.a)({},e),r)}return e},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userCard:"Home",graphicCard:"Graphic"},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return n===ie||n===ae||n===re||n===ce||n===oe||n===le||n===se?Object.assign(Object(y.a)({},e),a):e},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Date:{},Type:"",Category:""},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if(n===de)return Object.assign(Object(y.a)({},e),a);if(n===be)return Object.assign(Object(y.a)({},e),a);if(n===pe){var r=Object(y.a)({},e);return r.Type="",r}if(n===je){var i=Object(y.a)({},e);return Object.assign(i.Date,a),i}if(n===fe){var c=Object(y.a)({},e);return delete c.Date.Start,c}if(n===xe){var o=Object(y.a)({},e);return Object.assign(o.Date,a),o}if(n===he){var s=Object(y.a)({},e);return delete s.Date.End,s}if(n===me){var l=Object(y.a)({},e);return delete l.Date,l}if(n===Oe)return Object.assign(Object(y.a)({},e),a);if(n===ge){var u=Object(y.a)({},e);return delete u.Category,u}return n===ve?{Date:{}}:e}}),Se=Object(F.createStore)(Ce,Object(R.composeWithDevTools)()),De="/api/balance/",Te="";Se.subscribe((function(){var e,t=Se.getState().user;e=t.token,Te="Bearer "+e}));var Ne=function(){window.localStorage.clear(),Se.dispatch(T())},ke=function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=new XMLHttpRequest;n.open("GET",De,!0),n.setRequestHeader("Authorization",Te),n.onloadend=function(t){401===t.currentTarget.status&&Ne(),e(JSON.parse(t.currentTarget.responseText))},n.onerror=t,n.send()}));case 2:return t=e.sent,e.abrupt("return",JSON.parse(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var a=new XMLHttpRequest;a.open("DELETE",De+t,!0),a.setRequestHeader("Authorization",Te),a.onloadend=function(t){401===t.currentTarget.status&&Ne(),e(t.currentTarget)},a.onerror=n,a.send()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/balance/record",e.next=3,new Promise((function(e,t){var n=new XMLHttpRequest;n.open("GET","/api/balance/record",!0),n.onloadend=function(t){401===t.currentTarget.status&&Ne(),e(JSON.parse(t.currentTarget.responseText))},n.onerror=t,n.setRequestHeader("Authorization",Te),n.send()}));case 3:return t=e.sent,e.abrupt("return",JSON.parse(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,r,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.description,a=t.type,r=t.amount,i={description:n,amount:r,type:a},e.next=4,new Promise((function(e,t){var n=new XMLHttpRequest;n.open("POST",De,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",Te),n.onloadend=function(t){401===t.currentTarget.status&&Ne(),e(JSON.parse(t.currentTarget.responseText))},n.onerror=t,n.send(JSON.stringify(i))}));case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var r=new XMLHttpRequest;r.open("PUT",De+n,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization",Te),r.onloadend=function(t){401===t.currentTarget.status&&Ne(),200===t.currentTarget.status&&e(JSON.parse(t.currentTarget.responseText).message),e("Record not possible to update")},r.onerror=a,r.send(JSON.stringify(t))}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=["Travel","Transport","Food","Services","Restaurants","Health and self-care","Wardrobe","Education","Entertainment and fun","Other"],Ae=function(){var e=Object(k.b)();return{handleStateLogIn:function(t){e(D(t)),Re().then((function(t){e(G(t))})),ke().then((function(t){t[0]?e(P(t[0].amount)):e(P(0))}))},handleStateLogOut:function(){e(T())}}},He=function(){var e=Ae().handleStateLogIn,t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],b=l[1],O=Object(a.useState)(""),y=Object(s.a)(O,2),w=y[0],C=y[1],S=m(),D=function(){var t=Object(j.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,v({username:r,password:u});case 3:if(!(a=t.sent).message){t.next=6;break}return t.abrupt("return",T(a.message));case 6:return window.localStorage.setItem("infoUser",JSON.stringify(a)),t.abrupt("return",e(a));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(e){C(e)};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(f.a,{className:S.containerFrom,children:[Object(c.jsx)("div",{children:Object(c.jsx)("h2",{children:" Your Balance "})}),Object(c.jsxs)("form",{onSubmit:D,className:S.inputsFormLogin,id:"my-login-form",noValidate:!0,autoComplete:"off",children:[Object(c.jsx)(x.a,{label:"Username",variant:"standard",autoFocus:!0,onChange:function(e){var t=e.target.value;i(t)},value:r}),Object(c.jsx)(x.a,{label:"Password",variant:"standard",onChange:function(e){var t=e.target.value;b(t)},type:"password",value:u}),Object(c.jsx)(d.a,{type:"submit",variant:"outlined",endIcon:Object(c.jsx)(g.a,{}),children:"Sing In"})]}),Object(c.jsx)("div",{className:S.notification,children:Object(c.jsx)(h.a,{variant:"body1",color:"secondary",children:w})})]})})},Le="/api/user/",Je="";Se.subscribe((function(){var e,t=Se.getState().user;window.localStorage.setItem("infoUser",JSON.stringify(t)),e=t.token,Je="Bearer "+e}));var Me=function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var a=new XMLHttpRequest;a.open("POST",Le,!0),a.setRequestHeader("Content-Type","application/json"),a.onloadend=function(t){e(t.currentTarget)},a.onerror=n,a.send(JSON.stringify(t))}));case 2:if(201!==e.sent.status){e.next=5;break}return e.abrupt("return",{message:"Usuario Created"});case 5:return e.abrupt("return",{message:"Usuario or email already exists."});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var a=new XMLHttpRequest;a.open("PUT",Le,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization",Je),a.onloadend=function(t){401===t.currentTarget.status&&(window.localStorage.clear(),Se.dispatch(T())),200===t.currentTarget.status&&e(JSON.parse(t.currentTarget.responseText).message),e("User not updated")},a.onerror=n,a.send(JSON.stringify(t))}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),o=Object(s.a)(i,2),l=o[0],u=o[1],b=Object(a.useState)(""),O=Object(s.a)(b,2),g=O[0],v=O[1],y=Object(a.useState)(""),w=Object(s.a)(y,2),C=w[0],S=w[1],D=Object(a.useState)(""),T=Object(s.a)(D,2),N=T[0],k=T[1],F=Object(a.useState)(""),R=Object(s.a)(F,2),B=R[0],E=R[1],I=m(),A=function(e){var t=e.message;E(t)},H=function(){var e=Object(j.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Me({username:n,password:l,email:C,name:N});case 3:if(!(a=e.sent).status||201!==a.status){e.next=6;break}return e.abrupt("return",A(a));case 6:return e.abrupt("return",A(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(f.a,{className:I.containerFrom,children:[Object(c.jsx)("div",{children:Object(c.jsx)("h2",{children:" Your Balance "})}),Object(c.jsxs)("form",{className:I.inputsFormLogin,id:"my-input",onSubmit:H,noValidate:!0,autoComplete:"off",children:[Object(c.jsx)(x.a,{label:"Full Name",variant:"standard",onChange:function(e){var t=e.target.value;k(t)},type:"text",value:N}),Object(c.jsx)(x.a,{label:"Username",variant:"standard",autoFocus:!0,onChange:function(e){var t=e.target.value;r(t)},value:n}),Object(c.jsx)(x.a,{label:"Password",variant:"standard",onChange:function(e){var t=e.target.value;u(t)},type:"password",value:l}),Object(c.jsx)(x.a,{label:"Confirm you password",variant:"standard",onChange:function(e){var t=e.target.value;v(t)},type:"password",value:g}),Object(c.jsx)(x.a,{label:"Email",variant:"standard",onChange:function(e){var t=e.target.value;S(t)},type:"email",value:C}),Object(c.jsx)(d.a,{type:"submit",variant:"outlined",children:"Sing Up"})]}),Object(c.jsx)("div",{children:Object(c.jsx)(h.a,{variant:"body1",color:"secondary",children:B})})]})})},qe=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1],i=u(),o=function(e){r(e)};return Object(c.jsxs)("div",{className:i.container,children:[Object(c.jsx)("div",{className:i.tertiary}),Object(c.jsxs)("div",{className:i.secondary,children:[Object(c.jsx)(d.a,{className:i.button,onClick:function(){return o(!0)},children:Object(c.jsx)("p",{className:n?i.textHover:i.textNormal,children:"Log In"})}),Object(c.jsx)(d.a,{className:i.button,onClick:function(){return o(!1)},children:Object(c.jsx)("p",{className:n?i.textNormal:i.textHover,children:"Sing Up"})})]}),n?Object(c.jsx)(He,{className:i.primary}):Object(c.jsx)(Ge,{className:i.primary})]})},Ve=Object(l.a)((function(){return{container:{display:"flex",flexDirection:"column",alignItems:"center"},containerApp:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"400px","@media (min-width:800px)":{flexDirection:"row",width:"90%",alignItems:"flex-start",maxWidth:"800px"}},userInfoContainer:{display:"flex",width:"90%",flexDirection:"column"},graphicInfo:{display:"none","@media (min-width:800px)":{display:"flex",flexDirection:"column",marginTop:"20px"}},recordInfoContainer:{display:"flex",width:"90%",flexDirection:"column",marginTop:"22px","@media (min-width:800px)":{marginTop:"0px",marginLeft:"20px"}},title:{margin:10,width:"90%","@media (min-width:800px)":{display:"flex",justifyContent:"center",margin:"30px"}}}})),Ue=Object(l.a)((function(){return{container:{borderRadius:"20px",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",minHeight:"425px","@media (min-width:800px)":{minHeight:"680px",maxHeight:"750px"}},containerTitle:{display:"flex",justifyContent:"center",width:"95%",marginTop:"10px"},title:{flexGrow:1,transform:"translate(30px)"},containerRecord:{display:"flex",flexDirection:"column",alignItems:"center"}}})),We=n(122),_e=function(){var e=Object(k.b)();return{deleteTargetSeelction:function(t){e(function(e){return{type:L,payload:{targetDelete:e}}}(t))},currentTargetSelection:function(t){e(function(e){return{type:H,payload:{currentTarget:e}}}(t))},handleDeleteRecord:function(){var t=Object(j.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe(n);case 2:if((r=t.sent).responseText){t.next=6;break}return a(!1),t.abrupt("return","error");case 6:if(1===JSON.parse(r.responseText)[0].affectedRows){t.next=10;break}return a(!1),t.abrupt("return","error");case 10:e({type:A,payload:{id:n}}),a(!1);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),addRecord:function(t){e(function(e){return{type:I,payload:{Record:e}}}(t))},ChangeViewTypeEditRecord:function(){e(ue()),setTimeout((function(){e(function(e){var t={};return t[e]={entrance:!0},{type:$,payload:t}}("Graphic"))}),200)}}},Ye=Object(l.a)((function(){return{itemRecordBalance:{marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"space-around",width:"90%",height:"48px",borderRadius:"50px",boxShadow:"none"},recordPayIn:{background:"#BEFBC1"},recordWithout:{background:"#FB9F9F"},record:{display:"flex",width:"85%",alignItems:"center"},text:{flexGrow:"1"}}})),ze=function(){var e=Object(k.c)((function(e){return e.view.userCard})),t=Object(k.b)(),n=function(e,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!a)return t(Z(n)),setTimeout((function(){t(e),t(ee(n))}),200),void setTimeout((function(){t(te(n))}),300);t(K(n)),setTimeout((function(){t(e),t(Q(n))}),200),setTimeout((function(){t(te(n))}),300)},a=function(e,n){t(ne(n)),setTimeout((function(){t(te(n)),t(e)}),200)};return{view:e,ChangeViewTypeAdd:function(){n({type:ae,payload:{userCard:"add"}},"Home")},ChangeViewTypeSub:function(){n({type:re,payload:{userCard:"sub"}},"Home")},ChangeViewTypeHome:function(){n({type:ie,payload:{userCard:"Home"}},"Home",!1)},ChangeViewTypeProfile:function(){n({type:ce,payload:{userCard:"profile"}},"Home")},ChangeViewTypeEditRecord:function(){a(ue(),"Graphic")},ChangeViewTypeWithoutGraphic:function(){a({type:se,payload:{graphicCard:""}},"Graphic")},ChangeViewTypeWithGraphic:function(){a({type:le,payload:{graphicCard:"Graphic"}},"Graphic")}}},Xe=n(258),$e=(n(68),function(){var e=Object(k.c)((function(e){var t=e.balance,n=e.filter;return t.Record.filter((function(e){for(var t in n)if(n[t]){if("Date"===t){if(n[t].Start&&e.created_at>new Date(n[t].Start).toISOString())return!1;if(n[t].End&&e.created_at<new Date(n[t].End).toISOString())return!1}if("Type"===t&&e.type!==n[t])return!1;if("Category"===t)if(JSON.parse(e.description).category!==n[t])return!1}return!0}))})),t=Object(k.c)((function(e){return e.balance.filters.paginationPosition})),n=Ye(),r=_e(),i=r.deleteTargetSeelction,o=r.handleDeleteRecord,l=r.currentTargetSelection,u=r.ChangeViewTypeEditRecord,b=Object(k.c)((function(e){return e.balance.targetDelete})),p=Object(k.c)((function(e){return e.balance.currentTarget})),j={handleAnimationRecord:function(e,t,n){if(n)return document.getElementById(t).classList.toggle("flip-left"),void setTimeout((function(){e(),document.getElementById(t).classList.toggle("flip-left2"),document.getElementById(t+"two").style.display="none",setTimeout((function(){document.getElementById(t).classList.toggle("flip-left2"),document.getElementById(t).classList.toggle("flip-left"),document.getElementById(t+"two").style.display="flex"}),200)}),200);document.getElementById(t).classList.toggle("flip-right"),setTimeout((function(){e(),document.getElementById(t).classList.toggle("flip-right2"),document.getElementById(t+"two").style.display="none",setTimeout((function(){document.getElementById(t).classList.toggle("flip-right2"),document.getElementById(t).classList.toggle("flip-right"),document.getElementById(t+"two").style.display="flex"}),200)}),200)}}.handleAnimationRecord,f=ze().ChangeViewTypeWithoutGraphic,x=Object(a.useState)(!1),h=Object(s.a)(x,2),m=h[0],O=h[1],g=Object(k.b)();return Object(c.jsxs)(c.Fragment,{children:[e&&function(){var n=Object(We.a)(e),a=10*(t-1);return n.splice(a,10)}().map((function(e){var t=e.balance_id,a=e.amount,r=e.type;return b!==t?Object(c.jsx)("div",{className:"".concat(n.itemRecordBalance," ").concat("add"===r?n.recordPayIn:n.recordWithout),id:t,children:Object(c.jsxs)("div",{className:n.record,id:t+"two",children:[Object(c.jsxs)("div",{onClick:function(){l(t),u()},className:n.text,style:{cursor:"pointer"},children:["sub"===r&&"-"," ",a," $"]}),Object(c.jsx)(d.a,{onClick:function(){j((function(){i(t)}),t)},className:n.deleteButton,children:"Delete"})]})},t):Object(c.jsx)("div",{className:"".concat(n.itemRecordBalance," ").concat("add"===r?n.recordPayIn:n.recordWithout),id:t,children:Object(c.jsxs)("div",{className:n.record,id:t+"two",children:[Object(c.jsx)("div",{className:n.text,children:"Delete Record?"}),Object(c.jsx)(d.a,{onClick:function(){i(""),j((function(){i("")}),t,!0)},color:"primary",variant:"outlined",children:"No"}),Object(c.jsx)(d.a,{style:{marginLeft:10},onClick:function(){O(!0),j((function(){p===b&&f(),o(t,O)}),t,!0)},className:n.deleteButton,color:"secondary",variant:"outlined",disabled:m,children:"Yes"})]})},t)})),e.length>11&&Object(c.jsx)(Xe.a,{style:{marginBottom:10},count:Math.ceil(e.length/10),page:t,onChange:function(e,t){g(function(e){return{type:M,payload:{filters:{paginationPosition:e}}}}(t))},color:"primary"})]})}),Ke=n(265),Qe=n(252),Ze=n(263),et=n(259),tt=n(255),nt=n(123),at=n(110),rt=n.n(at),it=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(s.a)(n,2),i=r[0],o=r[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(tt.a,{"aria-label":"Menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},children:Object(c.jsx)(rt.a,{})}),Object(c.jsx)(nt.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){o(null)},transformOrigin:{vertical:"top",horizontal:"center"},children:t})]})},ct=n(121),ot=n(22),st=n(257),lt={display:"flex",flexDirection:"column"},ut=function(){var e=Object(k.c)((function(e){return e.filter})),t=Object(k.b)();return Object(c.jsxs)(it,{children:[Object(c.jsxs)(Ke.a,{style:lt,children:["Filters",Object(c.jsx)(d.a,{style:{marginTop:"5px"},variant:"outlined",color:"secondary",onClick:function(){return t({type:ve})},children:"Clear All"})]}),Object(c.jsxs)(Ke.a,{style:lt,children:[Object(c.jsxs)(Qe.a,{children:[Object(c.jsx)(Ze.a,{children:"Type"}),Object(c.jsxs)(et.a,{native:!0,value:e.Type,onChange:function(e){if("add"===e.currentTarget.value)return t({type:de,payload:{Type:"add"}});t({type:de,payload:{Type:"sub"}})},children:[Object(c.jsx)("option",{"aria-label":"None",value:"",disabled:!0}),Object(c.jsxs)("optgroup",{label:"Type",children:[Object(c.jsx)("option",{value:"add",children:"add"}),Object(c.jsx)("option",{value:"sub",children:"sub"})]})]})]}),Object(c.jsx)(d.a,{style:{marginTop:"5px"},variant:"outlined",color:"secondary",onClick:function(){t({type:pe,payload:{Type:""}})},children:"Clear Type"})]}),"sub"===e.Type&&Object(c.jsxs)(Ke.a,{style:lt,children:[Object(c.jsxs)(Qe.a,{children:[Object(c.jsx)(Ze.a,{children:"Category"}),Object(c.jsxs)(et.a,{native:!0,value:e.Category,onChange:function(e){var n;t((n=e.currentTarget.value,{type:Oe,payload:{Category:n}}))},children:[Object(c.jsx)("option",{"aria-label":"None",value:"",disabled:!0}),Object(c.jsx)("optgroup",{label:"Category",children:Ie.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]})]}),Object(c.jsx)(d.a,{style:{marginTop:"5px"},variant:"outlined",color:"secondary",onClick:function(){t({type:ge})},children:"Clear Category"})]}),Object(c.jsxs)(ot.a,{utils:ct.a,children:[Object(c.jsxs)(Ke.a,{style:lt,children:["Date Start:",Object(c.jsx)(st.a,{style:{width:"50%"},value:e.Date.Start?e.Date.Start:null,onChange:function(n){t(ye(function t(){var a=e.Date.End;a&&n<a&&a.setDate(n.getDate()-1);var r=new Date;return r.setDate(r.getDate()+1),n>t?t:n}()))}}),Object(c.jsx)(d.a,{style:{marginTop:"5px"},variant:"outlined",color:"secondary",onClick:function(){t(ye(null))},children:"Clear Date Start"})]}),Object(c.jsxs)(Ke.a,{style:lt,children:["Date End:",Object(c.jsx)(st.a,{style:{width:"50%"},value:e.Date.End?e.Date.End:null,onChange:function(n){t(we(function(){if(e.Date.Start){var t=new Date(e.Date.Start);return t.setDate(t.getDate()-1),n>t?t:n}var a=new Date;return a.setDate(a.getDate()-1),n>a?a:n}()))}}),Object(c.jsx)(d.a,{style:{marginTop:"5px"},variant:"outlined",color:"secondary",onClick:function(){t(we(null))},children:"Clear Date End"})]})]})]})},dt=function(){var e=Ue();return Object(c.jsxs)(f.a,{className:e.container,children:[Object(c.jsxs)("div",{className:e.containerTitle,children:[Object(c.jsx)(h.a,{className:e.title,variant:"h4",color:"initial",children:"Records"}),Object(c.jsx)(ut,{})]}),Object(c.jsx)("div",{className:e.containerRecord,children:Object(c.jsx)($e,{})})]})},bt=n(23),pt=n(113),jt=n.n(pt),ft=n(112),xt=n.n(ft),ht=n(111),mt=n.n(ht),Ot=n(114),gt=n.n(Ot),vt=n(115),yt=n.n(vt),wt=n(116),Ct=n.n(wt),St=n(117),Dt=n.n(St),Tt=n(118),Nt=n.n(Tt),kt=n(119),Ft=n.n(kt),Rt=n(120),Bt=n.n(Rt),Et={Travel:{color:"#3A7EFE",icon:Object(c.jsx)(mt.a,{style:{color:"#3A7EFE"}})},Transport:{color:"#583AFE",icon:Object(c.jsx)(xt.a,{style:{color:"#583AFE"}})},Food:{color:"#BA3AFE",icon:Object(c.jsx)(jt.a,{style:{color:"#BA3AFE"}})},Services:{color:"#FE3AE0",icon:Object(c.jsx)(gt.a,{style:{color:"#FE3AE0"}})},Restaurants:{color:"#FE3A7E",icon:Object(c.jsx)(yt.a,{style:{color:"#FE3A7E"}})},"Health and self-care":{color:"#FE583A",icon:Object(c.jsx)(Ct.a,{style:{color:"#FE583A"}})},Wardrobe:{color:"#C6FE3A",icon:Object(c.jsx)(Dt.a,{style:{color:"#C6FE3A"}})},Education:{color:"#D43AFE",icon:Object(c.jsx)(Nt.a,{style:{color:"#D43AFE"}})},"Entertainment and fun":{color:"#FE3A64",icon:Object(c.jsx)(Ft.a,{style:{color:"#FE3A64"}})},Other:{color:"#FE723A",icon:Object(c.jsx)(Bt.a,{style:{color:"#FE723A"}})}},It=(n(103),function(e){var t=e.Settings;return Object(c.jsx)("div",{id:"tooltip",style:Object.assign({left:t.left,top:t.top},t.opacity&&{opacity:t.opacity}),children:t.text})}),At=function(e){var t=e.width,n=e.height,a=e.pieDataRedy,r=e.categoryData,i=e.settoolTipSettings,o=e.tooltipSettings,s=e.radius;return Object(c.jsx)("g",{transform:"translate(".concat(t/2,",").concat(n/2,")"),children:a.map((function(e){var t=e.startAngle,n=e.endAngle,a=e.data;return Object(c.jsx)("path",{d:bt.a()({innerRadius:0,outerRadius:s,startAngle:t,endAngle:n}),fill:r[a[0]].color,stroke:r[a[0]].color,className:"pie-chart-section",onMouseOver:function(e){i({left:e.clientX-60,top:e.clientY-110,text:Object(c.jsxs)("p",{children:["Category: ",Object(c.jsx)("br",{}),a[0],Object(c.jsx)("br",{}),"Spent:",Object(c.jsx)("br",{}),a[1],"$"]}),opacity:.9,selected:a[0]})},onMouseOut:function(){i((function(e){return Object(y.a)(Object(y.a)({},e),{},{opacity:!1,selected:null})}))},style:o.selected===a[0]?{transform:"scale(1.1)"}:{}},a[0])}))})},Ht=function(e){var t=e.Data,n=e.settoolTipSettings,a=e.tooltipSettings,r=e.categoryData;return Object(c.jsx)("div",{className:"iconCategoryContainer",children:t.map((function(e){return Object(c.jsxs)("div",{onMouseOver:function(){n((function(t){return Object(y.a)(Object(y.a)({},t),{},{selected:e[0]})}))},onMouseOut:function(){n((function(e){return Object(y.a)(Object(y.a)({},e),{},{selected:null})}))},style:Object.assign({fontSize:10},a.selected===e[0]&&{transform:"scale(1.2)",border:"1px  rgba(0,0,255,0.2) solid",borderRadius:"10px"}),children:[r[e[0]].icon,e[0]]},e[0])}))})},Lt=function(){var e=Object(k.c)((function(e){var t,n=e.balance;return t=n.Record,Object.entries(t.reduce((function(e,t){if("sub"===t.type){var n=JSON.parse(t.description).category,a=Object(y.a)({},e);return a[n]?a[n]+=parseInt(t.amount):a[n]=parseInt(t.amount),a}return e}),{}))})),t=Math.min(150,150)/2-10,n=bt.b().value((function(e){return e[1]}))(e),r=Object(a.useState)({}),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(c.jsxs)("div",{style:{display:"flex"},children:[o&&Object(c.jsx)(It,{Settings:o}),Object(c.jsx)("svg",{id:"ContainerSvg",children:Object(c.jsx)(At,{width:150,height:150,pieDataRedy:n,categoryData:Et,settoolTipSettings:l,tooltipSettings:o,radius:t})}),Object(c.jsx)(Ht,{Data:e,settoolTipSettings:l,tooltipSettings:o,categoryData:Et})]})},Jt=Object(l.a)((function(){return{container:{borderRadius:"40px",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",minHeight:"281px"},containerTitle:{display:"flex",justifyContent:"center",width:"95%",marginTop:"10px"},title:{flexGrow:1,transform:"translate(30px)"},totalBalance:{marginLeft:"20px"},containerGraphic:{marginLeft:"20px"},containerButtons:{display:"flex",margin:"10px 20px 20px 20px"},containerButtonADD:{flexGrow:"1"},buttonAdd:{width:"138px",height:"48px",borderRadius:"50px",background:"#BEFBC1",boxShadow:"none"},buttonWithDraw:{width:"138px",height:"48px",borderRadius:"50px",background:"#FB9F9F",boxShadow:"none"}}})),Mt=function(){var e=Ae().handleStateLogOut,t=ze().ChangeViewTypeProfile;return Object(c.jsxs)(it,{children:[Object(c.jsx)(Ke.a,{onClick:t,children:"Profile"}),Object(c.jsx)(Ke.a,{onClick:function(){window.localStorage.removeItem("infoUser"),e()},children:"Logout"})]})},Pt=function(){var e=Object(k.c)((function(e){return e.user})),t=ze(),n=t.ChangeViewTypeAdd,a=t.ChangeViewTypeSub,r=Object(k.c)((function(e){return e.animation.Home})),i=Object(k.c)((function(e){return e.balance.Balance})),o=Jt();return Object(c.jsxs)(f.a,{className:"".concat(o.container," ").concat(r.rightOne&&"flip-right"," ").concat(r.leftTwo&&"flip-left2"),children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:o.containerTitle,children:[Object(c.jsx)(h.a,{className:o.title,align:"center",variant:"h4",color:"initial",children:e.name}),Object(c.jsx)(Mt,{})]}),Object(c.jsxs)(h.a,{className:o.totalBalance,variant:"h4",color:"initial",children:[i,"$"]})]}),Object(c.jsx)("div",{className:o.containerGraphic,children:Object(c.jsx)(Lt,{})}),Object(c.jsxs)("div",{className:o.containerButtons,children:[Object(c.jsx)("div",{className:o.containerButtonADD,children:Object(c.jsx)(d.a,{onClick:n,className:o.buttonAdd,variant:"contained",children:"Add"})}),Object(c.jsx)(d.a,{onClick:a,className:o.buttonWithDraw,variant:"contained",children:"Withdraw"})]})]})},Gt=Object(l.a)((function(){return{containerFrom:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"20px"},input:{marginBottom:"20px"}}})),qt=Object(l.a)((function(){return{container:{borderRadius:"40px",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",minHeight:"281px"},containerTitle:{display:"flex",justifyContent:"center",marginTop:"10px"},containerButtons:{display:"flex",margin:"50px 20px 20px 20px"},containerButtonCancel:{flexGrow:"1"},buttonCancel:{width:"138px",height:"48px",borderRadius:"50px",background:"#FB9F9F",boxShadow:"none"},buttonSave:{width:"138px",height:"48px",borderRadius:"50px",background:"#BEFBC1",boxShadow:"none"}}})),Vt=function(e){var t=e.children,n=e.SaveButton,a=void 0===n?{}:n,r=e.CancelButton,i=void 0===r?{}:r,o=e.title,s=void 0===o?"":o,l=e.style,u=e.to,b=void 0===u?"":u,p=e.ClassInsert,j=void 0===p?"":p,x=e.ContainerButtons,m=void 0===x?{}:x,O=Object(k.c)((function(e){return e.animation})),g=qt();return Object(c.jsxs)(f.a,{className:"".concat(g.container," ").concat(O[b]&&O[b].rightTwo&&"flip-right2"," ").concat(O[b]&&O[b].leftOne&&"flip-left"," ").concat(j),style:l,children:[Object(c.jsx)("div",{className:g.containerTitle,children:Object(c.jsx)(h.a,{align:"center",variant:"h5",color:"initial",children:s})}),t,Object(c.jsxs)("div",{className:g.containerButtons,style:m.style,children:[Object(c.jsx)("div",{className:g.containerButtonCancel,children:Object(c.jsx)(d.a,{onClick:i.function,style:i.style,className:g.buttonCancel,variant:"contained",disabled:i.disabled,children:i.text})}),Object(c.jsx)(d.a,{type:a.type,form:a.form,style:a.style,onClick:a.function,className:g.buttonSave,variant:"contained",disabled:a.disabled,children:a.text})]})]})},Ut=function(){var e=ze(),t=e.view,n=e.ChangeViewTypeHome,r=Object(a.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],u=_e().addRecord,d=Gt(),b=function(){var e=Object(j.a)(p.a.mark((function e(a){var r,i,c,o,s,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),l(!0),r=a.target[0].value?a.target[0].value:0,i=a.target[1].value,c={amount:Math.abs(r),type:t,description:"add"===t?JSON.stringify({description:i}):JSON.stringify({category:i||"Other"})},e.next=7,Be(c);case 7:if(o=e.sent){e.next=11;break}return n(),e.abrupt("return","error");case 11:if(0!==JSON.parse(o)[0].affectedRows){e.next=14;break}return n(),e.abrupt("return","error");case 14:s=JSON.parse(o)[0].insertId,d=(new Date).toISOString(),b=Object(y.a)(Object(y.a)({},c),{},{balance_id:s,created_at:d}),u(b),n();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(Vt,{CancelButton:{function:n,text:"Cancel"},SaveButton:{text:"Save",form:"newRecord",type:"submit",disabled:o},title:"New Record",to:"Home",children:Object(c.jsxs)("form",{id:"newRecord",onSubmit:b,className:d.containerFrom,children:[Object(c.jsx)(x.a,{className:d.input,type:"number",id:"number",label:"Amount"}),"sub"===t?Object(c.jsxs)(Qe.a,{className:d.formControl,children:[Object(c.jsx)(Ze.a,{children:"Category"}),Object(c.jsxs)(et.a,{native:!0,defaultValue:"",children:[Object(c.jsx)("option",{"aria-label":"None",value:"",disabled:!0}),Object(c.jsx)("optgroup",{label:"Category",children:Ie.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]})]}):Object(c.jsx)(x.a,{id:"description",label:"Description"})]})})},Wt=Object(l.a)((function(){return{container:{display:"flex",flexDirection:"column",alignItems:"center"},input:{margin:"15px 0 0 0"}}})),_t=n(43),Yt=n.n(_t),zt=n(42),Xt=n.n(zt),$t={display:"flex",width:"80%",justifyContent:"space-around"},Kt=function(){var e=Object(k.c)((function(e){return e.user})),t=Object(k.b)(),n=Object(a.useState)({name:{value:e.name},email:{value:e.email},username:{value:e.username}}),r=Object(s.a)(n,2),i=r[0],o=r[1],l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1],f=ze().ChangeViewTypeHome,h=Wt(),m=function(e,t){o((function(n){var a=Object(y.a)({},n);return a[e]=Object(y.a)(Object(y.a)({},a[e]),{},{disabled:t}),a}))},O=function(e){var t=e.target;o((function(e){var n=Object(y.a)({},e);return n[t.id]=Object(y.a)(Object(y.a)({},n[t.id]),{},{value:t.value}),n}))},g=function(){var n=Object(j.a)(p.a.mark((function n(a){var r,c,o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),b(!0),r={},n.t0=p.a.keys(i);case 4:if((n.t1=n.t0()).done){n.next=13;break}if(c=n.t1.value,!i[c]||!i[c].value){n.next=11;break}if((o=i[c].value)!==e[c]){n.next=10;break}return n.abrupt("continue",4);case 10:r[c]=o;case 11:n.next=4;break;case 13:if(Object.keys(r).length){n.next=15;break}return n.abrupt("return",f());case 15:return n.next=17,Pe(r);case 17:if("User updated successfully"!==n.sent){n.next=24;break}if(!r.username){n.next=23;break}return window.localStorage.clear(),t(T()),n.abrupt("return");case 23:t(N(r));case 24:f();case 25:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(c.jsx)(Vt,{CancelButton:{function:f,text:"Cancel"},SaveButton:{form:"form-edit-userinfo",type:"submit",text:"Save",disabled:d},title:"Datos de usuario",to:"Home",children:Object(c.jsxs)("form",{onSubmit:g,id:"form-edit-userinfo",className:h.container,children:[Object(c.jsxs)("div",{style:$t,children:[Object(c.jsx)(x.a,{className:h.input,disabled:!(i.name&&i.name.disabled),label:"Name",id:"name",value:i.name.value,onChange:O}),i.name&&i.name.disabled?Object(c.jsx)(tt.a,{onClick:function(){m("name",!1)},children:Object(c.jsx)(Xt.a,{})}):Object(c.jsx)(tt.a,{onClick:function(){m("name",!0)},children:Object(c.jsx)(Yt.a,{})})]}),Object(c.jsxs)("div",{style:$t,children:[Object(c.jsx)(x.a,{className:h.input,disabled:!(i.username&&i.username.disabled),label:"Username",id:"username",value:i.username.value,onChange:O}),i.username&&i.username.disabled?Object(c.jsx)(tt.a,{onClick:function(){m("username",!1)},children:Object(c.jsx)(Xt.a,{})}):Object(c.jsx)(tt.a,{onClick:function(){m("username",!0)},children:Object(c.jsx)(Yt.a,{})})]}),Object(c.jsxs)("div",{style:$t,children:[Object(c.jsx)(x.a,{className:h.input,disabled:!(i.email&&i.email.disabled),label:"Email",id:"email",value:i.email.value,onChange:O}),i.email&&i.email.disabled?Object(c.jsx)(tt.a,{onClick:function(){m("email",!1)},children:Object(c.jsx)(Xt.a,{})}):Object(c.jsx)(tt.a,{onClick:function(){m("email",!0)},children:Object(c.jsx)(Yt.a,{})})]}),Object(c.jsxs)("div",{style:$t,children:[Object(c.jsx)(x.a,{className:h.input,disabled:!(i.password&&i.password.disabled),label:"Password",type:"password",id:"password",value:i.password&&i.password.value?i.password.value:"",onChange:O}),i.password&&i.password.disabled?Object(c.jsx)(tt.a,{onClick:function(){m("password",!1)},children:Object(c.jsx)(Xt.a,{})}):Object(c.jsx)(tt.a,{onClick:function(){m("password",!0)},children:Object(c.jsx)(Yt.a,{})})]})]})})},Qt=Object(l.a)((function(){return{container:{display:"flex",flexDirection:"column",alignItems:"center"},input:{margin:"25px 0 0 0"}}})),Zt={display:"flex",width:"80%",justifyContent:"space-around"},en=function(){var e=Object(k.c)((function(e){var t=e.balance;return t.Record.filter((function(e){return e.balance_id===t.currentTarget}))[0]})),t=Object(k.c)((function(e){return e.animation.Graphic})),n=Object(a.useState)({}),r=Object(s.a)(n,2),i=r[0],o=r[1],l=ze().ChangeViewTypeWithGraphic,u=Object(k.b)(),d=Qt(),b=function(e,t){o((function(n){var a={};a[e]=t;var r=Object(y.a)({},n);return r.disabled=Object.assign(r.disabled,a),r}))},f=function(e){var t=e.target;o((function(e){var n=Object(y.a)({},e);if("amount"===t.id){var a=t.value?Math.abs(t.value):"";return n[t.id]=a,n}return n[t.id]=t.value,n}))},h=function(){var t=Object(j.a)(p.a.mark((function t(n){var a,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a={},t.t0=p.a.keys(i);case 3:if((t.t1=t.t0()).done){t.next=26;break}if("Date"!==(r=t.t1.value)&&"disabled"!==r){t.next=7;break}return t.abrupt("continue",3);case 7:if(c=i[r],"description"!==r){t.next=18;break}if("add"!==e.type){t.next=14;break}if(JSON.parse(e.description).description!==c){t.next=12;break}return t.abrupt("continue",3);case 12:return a[r]=JSON.stringify({description:c}),t.abrupt("continue",3);case 14:if(JSON.parse(e.description).category!==c){t.next=16;break}return t.abrupt("continue",3);case 16:return a[r]=JSON.stringify({category:c}),t.abrupt("continue",3);case 18:if(c!==e[r]){t.next=20;break}return t.abrupt("continue",3);case 20:if("amount"!==r){t.next=23;break}return a[r]=c||0,t.abrupt("continue",3);case 23:a[r]=c,t.next=3;break;case 26:if(Object.keys(a).length){t.next=29;break}return l(),t.abrupt("return");case 29:return t.next=31,Ee(a,e.balance_id);case 31:"balance update successful"===t.sent&&u(q(a,e.balance_id)),l();case 34:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){o({Date:e.created_at,description:"add"===e.type?JSON.parse(e.description).description:JSON.parse(e.description).category,amount:e.amount,disabled:{}})}),[e]),Object(c.jsx)(Vt,{title:"Record Info",CancelButton:{text:"volver",function:l,style:{background:"white"}},style:"add"===e.type?{background:"#BEFBC1",marginTop:"20px"}:{background:"#FB9F9F",marginTop:"20px"},SaveButton:{form:"edit-record-form",type:"submit",text:"Save",style:{background:"white"}},ClassInsert:"".concat(!t.entrance&&"entrance"," ").concat(t.exit&&"exit"),children:Object(c.jsxs)("form",{id:"edit-record-form",onSubmit:h,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(c.jsxs)("div",{style:Zt,children:[Object(c.jsx)(x.a,{className:d.input,disabled:!(i.disabled&&i.disabled.amount),label:"Amount",type:"number",id:"amount",onChange:f,value:i.amount}),i.disabled&&i.disabled.amount?Object(c.jsx)(tt.a,{onClick:function(){b("amount",!1)},children:Object(c.jsx)(Xt.a,{})}):Object(c.jsx)(tt.a,{onClick:function(){b("amount",!0)},children:Object(c.jsx)(Yt.a,{})})]}),Object(c.jsxs)("div",{style:Zt,children:["add"===e.type?Object(c.jsx)(x.a,{className:d.input,disabled:!(i.disabled&&i.disabled.description),label:"Description",type:"text",id:"description",onChange:f,value:i.description}):Object(c.jsxs)(Qe.a,{children:[Object(c.jsx)(Ze.a,{children:"Category"}),Object(c.jsxs)(et.a,{id:"description",onChange:f,disabled:!(i.disabled&&i.disabled.description),value:i.description,native:!0,children:[Object(c.jsx)("option",{"aria-label":"None",value:"",disabled:!0}),Object(c.jsx)("optgroup",{label:"Category",children:Ie.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]})]}),i.disabled&&i.disabled.description?Object(c.jsx)(tt.a,{onClick:function(){b("description",!1)},children:Object(c.jsx)(Xt.a,{})}):Object(c.jsx)(tt.a,{onClick:function(){b("description",!0)},children:Object(c.jsx)(Yt.a,{})})]}),Object(c.jsxs)("div",{style:Zt,children:[Object(c.jsx)(x.a,{className:d.input,disabled:!0,label:"Date to created",type:"text",id:"date",value:i.Date&&i.Date.slice(0,10)}),Object(c.jsx)(x.a,{className:d.input,disabled:!0,label:"Time to created",type:"text",id:"time",value:i.Date&&i.Date.slice(11,19)})]})]})})},tn=function(e){var t=new Date(e);return t.setMinutes(t.getMinutes()-t.getMinutes()),t.setHours(t.getHours()-t.getHours()),t.setSeconds(t.getSeconds()-t.getSeconds()),t},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start",t=tn(new Date);t.setDate(t.getDate()-t.getDate()+1);var n=new Date(t);return n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),"start"===e?t:n},an=function(e,t){var n=Object(y.a)({},e);return"add"===t.type?(n.add+=parseInt(t.amount),t.amount>n.max&&(n.max=parseInt(t.amount)),n):(n.sub+=parseInt(t.amount),t.amount>n.max&&(n.max=parseInt(t.amount)),n)},rn=function(e){return"hour"===e?bt.g.every(1):"day"===e?bt.e.every(2):"month"===e?bt.h.every(1):"year"===e?bt.i.every(1):void 0},cn=function(e,t){return"hour"===e?bt.f("%H:%M")(t):"day"===e?bt.f("%Y:%m:%d")(t):"month"===e?bt.f("%Y:%m")(t):"year"===e?bt.f("%Y")(t):void 0},on=function(e){var t=e.xScale,n=e.yScale,a=e.height,r=e.padding,i=e.width,o=e.unit;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("g",{id:"x-axis",transform:"translate(".concat(r,",").concat(a-r,")"),children:[Object(c.jsx)("line",{x2:i-r,stroke:"black"}),t.ticks(rn(o)).map((function(e){return Object(c.jsxs)("g",{transform:"translate(".concat(t(e),",0)"),children:[Object(c.jsx)("line",{y2:2,stroke:"black"}),Object(c.jsx)("text",{style:{fontSize:"10px"},transform:"translate(0,8)rotate(45)",children:cn(o,e)})]},t(e))}))]}),Object(c.jsxs)("g",{id:"y-axis",transform:"translate(".concat(r,",0)"),children:[Object(c.jsx)("line",{y2:a-r,stroke:"black"}),n.ticks().map((function(e){return Object(c.jsxs)("g",{transform:"translate(-5,".concat(n(e),")"),children:[Object(c.jsx)("line",{x2:5,stroke:"black"}),Object(c.jsx)("text",{style:{fontSize:"10px"},transform:"translate(".concat(-5.65*e.toString().length,",0)"),children:e})]},t(e))}))]})]})},sn=function(e){var t=e.data,n=e.xScale,a=e.yScale,r=e.height,i=e.padding,o=e.width,s=function(e,t,n){if("hour"===e)return 24;if("day"===e)return.8*(n/t[1].getDate()+1);if("month"===e)return 12;if("year"===e){var a=t[0].getFullYear(),r=t[1].getFullYear(),i=n/(a-r?a-r:1)*.8;return i>.2*n?.2*n:i}}(e.unit,n.domain(),o)/2;return Object.entries(t).map((function(e){return"all"===e[0]||"maxAdd"===e[0]?"":Object(c.jsxs)("g",{transform:"translate(".concat(i,",0)"),children:[Object(c.jsx)("rect",{width:s,height:r-i-a(e[1].add),fill:"blue",x:n(new Date(e[1].currentFullDate)),y:a(e[1].add)}),Object(c.jsx)("rect",{width:s,height:r-i-a(e[1].sub),fill:"red",x:n(new Date(e[1].currentFullDate))-s,y:a(e[1].sub)})]},e[1].currentFullDate)}))},ln=n(256),un=function(){var e=300,t=300,n=Object(ln.a)("(min-width:800px)"),a={startDate:nn("start"),endDate:nn("end")},r="day",i=Object(k.c)((function(e){var t=e.balance;return t.Record.reduce((function(e,t){return function(e,t,n){var a=Object(y.a)({},e),r=new Date(t.created_at),i=r.getFullYear(),c=r.getMonth(),o=r.getDate(),s=r.getHours(),l=r.getMinutes(),u=n.startDate;if(r<n.endDate&&r>u){var d=a[i];if(!d)return a[i]={all:[t]},a[i][c]={all:[t]},a[i][c][o]={all:[t]},a[i][c][o][s]={all:[t]},a[i][c][o][s][l]={all:[t]},a;if(!d[c])return d.all.push(t),d[c]={all:[t]},d[c][o]={all:[t]},d[c][o][s]={all:[t]},d[c][o][s][l]={all:[t]},a;var b=a[i][c];if(!b[o])return d.all.push(t),b.all.push(t),b[o]={all:[t]},b[o][s]={all:[t]},b[o][s][l]={all:[t]},a;var p=b[o];if(!p[s])return d.all.push(t),b.all.push(t),p.all.push(t),p[s]={all:[t]},p[s][l]={all:[t]},a;var j=p[s];return j[l]?(d.all.push(t),b.all.push(t),p.all.push(t),j.all.push(t),j[l].all.push(t),a):(d.all.push(t),b.all.push(t),p.all.push(t),j.all.push(t),j[l]={all:[t]},a)}return e}(e,t,a)}),{all:t.Record})})),o=function(e,t,n){var a=t.endDate.getFullYear();if(!n[a])return{};if("year"===e){var r={maxAdd:0};for(var i in n)if("all"!==i){var c=n[i].all[0].created_at,o=n[i].all.reduce(an,{add:0,sub:0,max:0,currentFullDate:c});for(var s in o)"currentFullDate"!==s&&r.maxAdd<o[s]&&(r.maxAdd=o[s]);r[i]=o}return r.all=n.all,r}var l=t.endDate.getMonth();if("day"===e){var u=n[a][l],d={maxAdd:0};for(var b in u)if("all"!==b){var p=tn(new Date);p.setFullYear(a),p.setMonth(l),p.setDate(b);var j=u[b].all.reduce(an,{add:0,sub:0,max:0,currentFullDate:p});for(var f in j)"currentFullDate"!==f&&d.maxAdd<j[f]&&(d.maxAdd=j[f]);d[b]=j}return d.all=u.all,d}}(r,a,i),s=bt.c().domain([0,o.maxAdd]).range([250,0]),l=bt.d().domain([a.startDate,a.endDate]).range([0,250]);return Object(c.jsxs)(Vt,{style:Object.assign({marginTop:"15px",display:"flex",flexDirection:"column"},!n&&{display:"none"}),ContainerButtons:{style:{display:"none"}},children:[Object(c.jsx)("div",{style:{alignSelf:"center"},id:"title",children:"Month Statistics"}),Object(c.jsx)("div",{id:"containerCharBar",children:Object(c.jsxs)("svg",{width:e,height:t,id:"svgCharBar",style:{overflow:"visible"},children:[Object(c.jsx)(on,{xScale:l,yScale:s,height:t,padding:50,width:e,unit:r}),Object(c.jsx)(sn,{data:o,xScale:l,yScale:s,height:t,padding:50,width:e,unit:r})]})})]})},dn=function(){var e=Object(k.c)((function(e){return e.view.userCard})),t=Object(k.c)((function(e){return e.view.graphicCard})),n=Ve();return Object(c.jsxs)("div",{className:n.container,children:[Object(c.jsx)("div",{className:n.title,children:Object(c.jsx)(h.a,{variant:"h4",children:" Your Balance "})}),Object(c.jsxs)("div",{className:n.containerApp,children:[Object(c.jsxs)("div",{className:n.userInfoContainer,children:["Home"===e&&Object(c.jsx)(Pt,{}),("add"===e||"sub"===e)&&Object(c.jsx)(Ut,{}),"profile"===e&&Object(c.jsx)(Kt,{}),"editRecord"===t&&Object(c.jsx)(en,{}),"Graphic"===t&&Object(c.jsx)(un,{})]}),Object(c.jsx)("div",{className:n.recordInfoContainer,children:Object(c.jsx)(dt,{})})]})]})},bn=function(){var e=Object(k.b)();Object(a.useEffect)((function(){var t=window.localStorage.getItem("infoUser");t&&(e(D(JSON.parse(t))),Re().then((function(t){e(G(t))})),ke().then((function(t){t[0]?e(P(t[0].amount)):e(P(0))})))}),[e])};var pn=function(){var e=Object(k.c)((function(e){return e.user}));return bn(),Object(c.jsx)(o,{children:e.name?Object(c.jsx)(dn,{}):Object(c.jsx)(qe,{})})},jn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,267)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};i.a.render(Object(c.jsx)(k.a,{store:Se,children:Object(c.jsx)(pn,{})}),document.getElementById("root")),jn()},68:function(e,t,n){}},[[216,1,2]]]);
//# sourceMappingURL=main.5a5e4361.chunk.js.map